const n=`{% block heptacom_admin_open_auth_client_listing_page %} <sw-page class="heptacom-admin-open-auth-client-listing-page"> {% block heptacom_admin_open_auth_client_listing_page_inner %} {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_search_bar %} <template #search-bar> <sw-search-bar :initialSearch="term" @search="onSearch" initialSearchType="heptacom_admin_open_auth_client" ></sw-search-bar> </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_search_bar_actions %} <template #smart-bar-actions> <mt-button v-if="acl.can('heptacom_admin_open_auth_client.creator')" @click="this.$router.push({ name: 'heptacom.admin.open.auth.client.create' })" variant="primary" > {{ $t('heptacom-admin-open-auth-client.pages.listing.actions.create') }} </mt-button> </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_content %} <template #content> {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing %} <sw-entity-listing v-if="items" :items="items" :repository="clientRepository" :showSelection="false" :columns="columns" :isLoading="!isLoading" :showActions="false" > {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_inner %} {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_active %} <template #column-active="{ item }"> <mt-icon :color="getLoginColor(item)" v-tooltip="{ message: $t('heptacom-admin-open-auth-client.pages.listing.iconTooltip.active') }" name="regular-sign-in" size="16px" ></mt-icon> <mt-icon :color="getConnectColor(item)" v-tooltip="{ message: $t('heptacom-admin-open-auth-client.pages.listing.iconTooltip.connection') }" name="regular-share" size="16px" ></mt-icon> </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_created_at %} <template #column-createdAt="{ item }"> {{ dateFilter(item.createdAt, { hour: '2-digit', minute: '2-digit' }) }} </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_provider %} <template #column-provider="{ item }"> {{ $te('heptacomAdminOpenAuthClient.providers.' + item.provider + '.label') ? $t('heptacomAdminOpenAuthClient.providers.' + item.provider + '.label') : item.provider }} </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_pagination %} <template #pagination> <sw-pagination :page="page" :limit="limit" :total="total" :total-visible="7" @page-change="onPageChange" ></sw-pagination> </template> {% endblock %} </sw-entity-listing> {% endblock %} </template> {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_sidebar_container %} <template #sidebar> {% block heptacom_admin_open_auth_client_listing_page_sidebar %} <sw-sidebar> {% block heptacom_admin_open_auth_client_listing_page_sidebar_inner %} {% endblock %} {% block heptacom_admin_open_auth_client_listing_page_sidebar_refresh %} <sw-sidebar-item :title="$tc('heptacom-admin-open-auth-client.pages.listing.actions.refresh')" @click="onRefresh" icon="regular-undo" ></sw-sidebar-item> {% endblock %} </sw-sidebar> {% endblock %} </template> {% endblock %} </sw-page> {% endblock %}`,{Context:a,Data:o,Mixin:l}=Shopware,{Criteria:i}=o,c={template:n,inject:["acl","repositoryFactory"],mixins:[l.getByName("listing")],data(){return{isLoading:!0,items:null}},created(){this.getList()},computed:{clientRepository(){return this.repositoryFactory.create("heptacom_admin_open_auth_client")},clientCriteria(){const t=new i,e=this.getMainListingParams();return t.addAssociation("userKeys"),t.setLimit(e.limit),t.setPage(e.page),t.addSorting(i.sort(e.sortBy||"name",e.sortDirection||"ASC")),e.term&&e.term.length&&t.addFilter(i.contains("name",e.term)),t},columns(){return[{property:"active",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.active"),allowResize:!1,width:"50px"},{property:"name",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.name"),routerLink:"heptacom.admin.open.auth.client.edit"},{property:"provider",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.provider")},{property:"userKeys.length",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.users"),width:"100px"},{property:"createdAt",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.createdAt"),width:"200px"}]},dateFilter(){return Shopware.Filter.getByName("date")}},methods:{getList(){return this.loadData()},loadData(){this.isLoading=!0,this.loadClients().then(()=>{this.isLoading=!1})},loadClients(){return this.items=null,this.clientRepository.search(this.clientCriteria,a.api).then(t=>{this.items=t})},getLoginColor(t){return t.active?t.login?"#00cc00":"#cc0000":"#333333"},getConnectColor(t){return t.active?t.connect?"#00cc00":"#cc0000":"#333333"}}};export{c as default};
//# sourceMappingURL=index-De8O79--.js.map
